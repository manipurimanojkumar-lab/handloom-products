<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Basket - Handloom Fashion</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family:'Poppins', Arial, sans-serif; }
    body { background:#fff8f0; color:#333; line-height:1.6; }
    a { text-decoration:none; color:inherit; }

    header { background: linear-gradient(90deg, #c8ff00, #c8ff00); padding:20px 0; text-align:center; color:#fff; box-shadow:0 2px 10px rgba(0,0,0,0.2); position:sticky; top:0; z-index:1000; }
    header h1 { font-size:2.5rem; font-weight:700; margin-bottom:10px; }
    nav { display:flex; justify-content:center; gap:25px; flex-wrap:wrap; }
    nav a { color:#fff; font-weight:600; padding:8px 15px; border-radius:25px; }
    nav a:hover, nav a.active { background:#fff; color:#c8ff00; box-shadow:0 4px 10px rgba(0,0,0,0.2); }

    main { max-width:1000px; margin:60px auto; padding:0 20px; }
    h2 { text-align:center; color:#c8ff00; font-size:2.5rem; margin-bottom:30px; }

    .basket-table { width:100%; border-collapse:collapse; margin-bottom:30px; box-shadow:0 4px 15px rgba(0,0,0,0.1); }
    .basket-table th, .basket-table td { padding:15px; text-align:center; border-bottom:1px solid #ddd; }
    .basket-table th { background:#c8ff00; color:#fff; font-weight:600; }
    .basket-table img { width:80px; height:auto; border-radius:5px; }

    .quantity input { width:50px; padding:5px; text-align:center; border-radius:5px; border:1px solid #ccc; }
    .remove-btn { background:#c8ff00; color:#fff; padding:6px 12px; border:none; border-radius:5px; cursor:pointer; transition:0.3s; }
    .remove-btn:hover { background:#ff1a1a; }

    .total-section { text-align:right; margin-top:20px; font-size:1.2rem; font-weight:600; }
    .checkout-btn { display:block; width:200px; margin:20px auto 30px auto; padding:12px; background:#c8ff00; color:#fff; font-size:1.1rem; font-weight:600; border:none; border-radius:30px; cursor:pointer; transition:0.3s; }
    .checkout-btn:hover { background:#c8ff00; }

    .payment-section { max-width:600px; margin:40px auto; padding:20px; border:1px solid #ddd; border-radius:10px; background:#fff8f0; }
    .payment-section h2 { text-align:center; color:#c8ff00; margin-bottom:20px; }
    .card-details input { display:block; width:100%; margin:8px 0; padding:10px; border-radius:5px; border:1px solid #ccc; }

    footer { text-align:center; padding:30px 20px; background:linear-gradient(90deg,#c8ff00,#c8ff00); color:#fff; font-weight:600; }
    footer .highlight { margin-top:5px; font-size:0.95rem; font-weight:400; }

    @media(max-width:768px) { .basket-table th, .basket-table td { font-size:0.9rem; padding:10px; } .checkout-btn { width:100%; } }
    @media(max-width:480px) { h2 { font-size:2rem; } nav { gap:15px; } }
  </style>
</head>
<body>

<header>
  <h1>Handloom Fashion</h1>
  <nav>
    <a href="index.html">Home</a>
    <a href="about.html">About</a>
    <a href="products.html">Products</a>
    <a href="basket.html" class="active">Basket</a>
    <a href="contact.html">Contact</a>
  </nav>
</header>

<main>
  <h2>Your Basket</h2>
  <table class="basket-table">
    <thead>
      <tr>
        <th>Product</th>
        <th>Image</th>
        <th>Price</th>
        <th>Quantity</th>
        <th>Subtotal</th>
        <th>Remove</th>
      </tr>
    </thead>
    <tbody>
      <!-- Dynamic rows populated by JS -->
    </tbody>
  </table>

  <div class="total-section">
    Total: <strong id="total">0</strong>
  </div>

  <!-- Payment Section -->
  <section class="payment-section">
    <h2>Payment Method</h2>

    <form id="payment-form">
      <div style="margin-bottom:15px; font-size:1.1rem;">
        <input type="radio" name="payment" id="cod" value="Cash on Delivery" checked>
        <label for="cod">Cash on Delivery</label>
      </div>
      <div style="margin-bottom:15px; font-size:1.1rem;">
        <input type="radio" name="payment" id="card" value="Credit/Debit Card">
        <label for="card">Credit/Debit Card</label>
      </div>

      <div class="card-details" id="card-details" style="display:none;">
        <input type="text" placeholder="Card Number" id="card-number" required>
        <input type="text" placeholder="Name on Card" id="card-name" required>
        <input type="text" placeholder="Expiry (MM/YY)" id="card-expiry" required>
        <input type="text" placeholder="CVV" id="card-cvv" required>
      </div>

      <button type="submit" class="checkout-btn">Confirm Payment</button>
    </form>

    <p id="payment-message" style="text-align:center; margin-top:10px; color:green;"></p>
  </section>
</main>

<footer>
  <p>&copy; 2025 Handloom Fashion. All Rights Reserved.</p>
  <p class="highlight">✨ Made with efforts ❤️ ✨</p>
  <p class="highlight">Done by Sanjay</p>
    <p class="highlight">Done by surya</p>
    <p class="highlight">Done by dinesh</p>
</footer>

<script>
// Dynamic basket load
function loadBasket() {
  const basket = JSON.parse(localStorage.getItem('basket')) || [];
  const tbody = document.querySelector('.basket-table tbody');
  tbody.innerHTML = '';

  basket.forEach((product, index) => {
    const row = document.createElement('tr');
    row.innerHTML = `
      <td>${product.name}</td>
      <td><img src="${product.image}" alt="${product.name}"></td>
      <td class="price">${product.price}</td>
      <td class="quantity"><input type="number" value="${product.quantity}" min="1" data-index="${index}"></td>
      <td class="subtotal">${product.price * product.quantity}</td>
      <td><button class="remove-btn" data-index="${index}">Remove</button></td>
    `;
    tbody.appendChild(row);
  });

  updateTotals();
  attachEvents();
}

function updateTotals() {
  const rows = document.querySelectorAll('.basket-table tbody tr');
  let total = 0;
  rows.forEach(row => {
    const price = parseInt(row.querySelector('.price').textContent);
    const qty = parseInt(row.querySelector('.quantity input').value);
    row.querySelector('.subtotal').textContent = price * qty;
    total += price * qty;
  });
  document.getElementById('total').textContent = total;
}

function attachEvents() {
  document.querySelectorAll('.quantity input').forEach(input => {
    input.addEventListener('change', () => {
      const index = input.dataset.index;
      let basket = JSON.parse(localStorage.getItem('basket'));
      if(input.value < 1) input.value = 1;
      basket[index].quantity = parseInt(input.value);
      localStorage.setItem('basket', JSON.stringify(basket));
      updateTotals();
    });
  });

  document.querySelectorAll('.remove-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      const index = btn.dataset.index;
      let basket = JSON.parse(localStorage.getItem('basket'));
      basket.splice(index,1);
      localStorage.setItem('basket', JSON.stringify(basket));
      loadBasket();
    });
  });
}

// Payment method toggle
const codRadio = document.getElementById('cod');
const cardRadio = document.getElementById('card');
const cardDetails = document.getElementById('card-details');

codRadio.addEventListener('change', () => cardDetails.style.display='none');
cardRadio.addEventListener('change', () => cardDetails.style.display='block');

// Payment submission
document.getElementById('payment-form').addEventListener('submit', e=>{
  e.preventDefault();
  const selectedPayment = document.querySelector('input[name="payment"]:checked').value;

  if(selectedPayment==='Credit/Debit Card'){
    const cardNumber=document.getElementById('card-number').value;
    const cardName=document.getElementById('card-name').value;
    const cardExpiry=document.getElementById('card-expiry').value;
    const cardCvv=document.getElementById('card-cvv').value;

    if(!cardNumber || !cardName || !cardExpiry || !cardCvv){
      alert('Please fill all card details.');
      return;
    }
  }

  localStorage.removeItem('basket');
  loadBasket();
  document.getElementById('payment-message').textContent = `Payment method "${selectedPayment}" selected. Thank you for your order!`;
});

// Initialize
loadBasket();
</script>

</body>
</html>
